<div class="wrapper">
    <div class="sidebar" id="sidebar">
        <i class="fa fa-bars" id="collapse-button" onclick="toggleSidebar()"></i>
        <h1>User Profile Information</h1>
    </div>
    <div class="container-fluid">
        <div class="content">
            <div class="main">
                <h1>Main View</h1>
            </div>
            <div class="bottombar">
                <h1>music Controls</h1>
            </div>
        </div>

    </div>

</div>

<script src="https://sdk.scdn.co/spotify-player.js"></script>
<script>
    window.onSpotifyWebPlaybackSDKReady = () => {
        const token = angular.element(document.querySelector('[ng-controller="MainController"]')).scope().token;

        const player = new Spotify.Player({
            name: 'Space Jam Player',
            getOAuthToken: cb => { cb(token); }
        });

        player.addListener('initialization_error', ({ message }) => { console.error(message); });
        player.addListener('authentication_error', ({ message }) => { console.error(message); });
        player.addListener('account_error', ({ message }) => { console.error(message); });
        player.addListener('playback_error', ({ message }) => { console.error(message); });

        player.addListener('player_state_changed', state => { console.log(state); });
        player.addListener('ready', ({ device_id }) => {
            console.log('Ready with Device ID', device_id);
        });

        player.addListener('not_ready', ({ device_id }) => {
            console.log('Device ID has gone offline', device_id);
        });

        player.connect();

    }
</script>